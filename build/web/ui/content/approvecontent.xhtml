<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:p="http://primefaces.org/ui"
      xmlns:f="http://java.sun.com/jsf/core">


    <body>

        <ui:composition template="./../home/header.xhtml">

            <ui:define name="content">
                 <h:form id="frm1" enctype="application/x-www-form-urlencoded">
                     <table>
                         <tr>
                             <td colspan="2" align="center" class="bannerheadsmall"> Select below parameters to configure search query.</td>
                         </tr>
                          <tr>
                             <td colspan="2" align="center" class="bannerheadsmall"> &nbsp;</td>
                         </tr>
                         <tr>
                             <td width="50%"  align="right" class="labeltext">Content Provider:</td>
                             <td width="50%"  align="left" class="labeltext"><p:selectOneMenu id="superCategory" value="#{approveContentBean.selectedContentProvider}"  style="width:170px;">
                                                <f:selectItem itemLabel="All Content Providers" itemValue="0" />
                                                <f:selectItems value="#{approveContentBean.contentProviderList}"/>
                                                <p:ajax event="change" listener="#{approveContentBean.reloadBulkContentRecords(true, false)}" partialSubmit="true" update="contentlisttable"/>   
                                            </p:selectOneMenu>
                             </td>
                         </tr>
                       
                     </table>    
                     <p:dataTable id="contentlisttable" var="bulkcontent" value="#{approveContentBean.contentList}" editable="true" paginator="true" rows="10" selectionMode="single" selection="#{approveContentBean.selectedContent}" rowKey="#{bulkcontent.contentId}">
                                <f:facet name="header">
                                    List of Content   <p:commandButton value="Approve" update="msgout,contentlisttable" action="#{approveContentBean.approveContent('APPROVE')}" /> <p:commandButton value="Reject" update="msgout,contentlisttable" action="#{approveContentBean.approveContent('REJECT')}" />
                                </f:facet>
                            <f:facet name="header">
                                    <h:outputText id="msgout" value="#{approveContentBean.statusMsg.message}" class="#{approveContentBean.statusMsg.msgClass}"/>
                            </f:facet>
                                <p:column style="alignment-adjust: middle;alignment-baseline: central;">
                                    <f:facet name="header">
                                        <h:outputText value="Preview Image" />
                                    </f:facet>
                                    <!--<h:graphicImage value="#{approveContentBean.tempContentBaseURL}#{bulkcontent.contentPath}"/>-->
                                    <h:graphicImage value="http://139.59.4.201/ImageService?img=#{approveContentBean.tempContentBaseURL}#{bulkcontent.contentPath}"/>
                                </p:column>
                         <p:column filterBy="#{bulkcontent.catalogNumber}" style="alignment-adjust: middle;alignment-baseline: central;">
                                    <f:facet name="header">
                                        <h:outputText value="Catalog Number" />
                                    </f:facet>
                             <h:outputText value="#{bulkcontent.catalogNumber}" />
                                </p:column>
                         <p:column filterBy="#{bulkcontent.contentName}" style="alignment-adjust: middle;alignment-baseline: central;">
                                    <f:facet name="header">
                                        <h:outputText value="Content Name" />
                                    </f:facet>
                             <h:outputText value="#{bulkcontent.contentName}" />
                                </p:column>
                                
                            </p:dataTable>
                            
                 </h:form>
            </ui:define>

        </ui:composition>

    </body>
</html>
