<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
       xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:p="http://primefaces.org/ui"
      xmlns:f="http://java.sun.com/jsf/core">

    <body>
        <ui:composition template="./../home/header.xhtml">
            <ui:define name="content">
                <h:form id="frm1">
                    <p:accordionPanel id="ap1">
                        <p:tab id="editpanel" title="Register New/Update Rating Engine">
                            <table width="100%">
                                <tr><td width="100%" colspan="6" align="center"><h:outputText id="msgOut" class="#{ratingEngineBean.statusMsg.msgClass}" value="#{ratingEngineBean.statusMsg.message}"/></td></tr>
                                <tr>
                                    <td width="15%" align="right"> <h:outputLabel value="Select Rating Engine:" for="oldengine"/> </td>
                                    <td width="15%"  align="left"><p:selectOneMenu id="oldengine" value="#{ratingEngineBean.ratingEngineIdToEdit}"  style="width:200px;">
                                                <f:selectItem itemLabel="Select Rating Engine" itemValue="" />
                                                <f:selectItems value="#{ratingEngineBean.ratingEngineMap}"/>
                                                <p:ajax event="change" listener="#{ratingEngineBean.edit()}" update="topupconsentflag,topupsmsflag,unsubconsentflag,unsubsmsflag,eventconsentflag,eventsmsflag,msgOut,updatecatg,newengine,newenginedescp,newenginehandler,subchargeurl,unsuburl,topupchargeurl,eventchargeurl,subcharegconsentflag,subcharegsmsflag" />
                                            </p:selectOneMenu></td>
                                    <td width="50%" colspan="3" align="right"><p:selectBooleanCheckbox id="updatecatg" value="#{ratingEngineBean.createNewActionFlag}"  itemLabel="Register New Rating Engine"  style="width:250px;"/> <br/></td>
                                    <td width="20%" align="left"><p:commandButton value="Commit" actionListener="#{ratingEngineBean.updateRecord()}" update="msgOut" style="width: 250px;" /></td>
                                </tr>
                                <tr>
                                    <td width="15%" align="right"> <h:outputLabel value="Rating Engine Name :" for="newengine"/> </td>
                                    <td width="15%" align="left"><p:inputText id="newengine" value="#{ratingEngineBean.newRatingEngine.engineName}" style="width:200px;"/></td>
                                    <td width="10%" align="right"><h:outputLabel value="Description :" for="newenginedescp"/></td>
                                    <td width="20%" align="left"><p:inputTextarea rows="2"   maxlength="200" autoResize="false" id="newenginedescp" value="#{ratingEngineBean.newRatingEngine.ratingEngineDescription}" style="width:250px;"/></td>
                                    <td width="20%" align="right"><h:outputLabel value="Handler Class :" for="newenginehandler"/></td>
                                    <td width="20%" align="left"><p:inputTextarea rows="2"   maxlength="200" autoResize="false" id="newenginehandler" value="#{ratingEngineBean.newRatingEngine.handlerClass}" style="width:250px;"/></td>
                                </tr>
                                <tr>
                                    <td width="100%" colspan="6">
                                        <p:fieldset id="fieldsetsub" legend="Subscription Configurations :-" toggleable="true" collapsed="true" toggleSpeed="500">
                                            <table width="100%">
                                                <tr>
                                                    <td width="10%" align="right"><h:outputLabel value="URL Config:" for="subchargeurl"/></td>
                                                    <td width="80%" align="left"><p:inputTextarea rows="3"   maxlength="500" autoResize="false" id="subchargeurl" value="#{ratingEngineBean.newRatingEngine.subscriptionURL.ratingURL}" style="width:750px; height: 50px;"/></td>
                                                    <td width="10%" align="center">
                                                                        <p:selectBooleanButton id="subcharegconsentflag" value="#{ratingEngineBean.newRatingEngine.subscriptionConsentEnabled}" onLabel="Consent Enabled" offLabel="Consent Disabled" onIcon="ui-icon-check" offIcon="ui-icon-close" style="width:250px"/> <br/>
                                                                        <p:selectBooleanButton id="subcharegsmsflag" value="#{ratingEngineBean.newRatingEngine.subscriptionSMSNotifyEnabled}" onLabel="SMS Notification Enabled" offLabel="SMS Notification Disabled" onIcon="ui-icon-check" offIcon="ui-icon-close" style="width:250px"/>
                                                    </td>
                                                </tr>
                                            </table>
                                            
                                        </p:fieldset>

                                    </td>
                                </tr>
                                <tr>
                                    <td width="100%" colspan="6">
                                         <p:fieldset legend="Event Charging Configurations :-" toggleable="true" collapsed="true"  toggleSpeed="500">
                                           
                                            <table width="100%">
                                                <tr>
                                                    <td width="10%" align="right"><h:outputLabel value="URL Config:" for="eventchargeurl"/></td>
                                                    <td width="80%" align="left"><p:inputTextarea rows="3"   maxlength="500" autoResize="false" id="eventchargeurl" value="#{ratingEngineBean.newRatingEngine.eventChargeURL.ratingURL}" style="width:750px; height: 50px;"/></td>
                                                    <td width="10%" align="center"><p:selectBooleanButton id="eventconsentflag" value="#{ratingEngineBean.newRatingEngine.eventConsentEnabled}" onLabel="Consent Enabled" offLabel="Consent Disabled" onIcon="ui-icon-check" offIcon="ui-icon-close" style="width:250px"/> <br/>
                                                        <p:selectBooleanButton id="eventsmsflag" value="#{ratingEngineBean.newRatingEngine.eventSMSNotifyEnabled}" onLabel="SMS Notification Enabled" offLabel="SMS Notification Disabled" onIcon="ui-icon-check" offIcon="ui-icon-close" style="width:250px"/>
                                                    </td>
                                                </tr>
                                            </table>
                                            
                                        </p:fieldset>

                                    </td>
                                </tr>
                                <tr>
                                    <td width="100%" colspan="6">
                                         <p:fieldset legend="Top UP Charging Configurations :-" toggleable="true" collapsed="true" toggleSpeed="500">
                                          
                                            <table width="100%">
                                                <tr>
                                                    <td width="10%" align="right"><h:outputLabel value="URL Config:" for="topupchargeurl"/></td>
                                                    <td width="80%" align="left"><p:inputTextarea rows="3"   maxlength="500" autoResize="false" id="topupchargeurl" value="#{ratingEngineBean.newRatingEngine.valuePackChargeURL.ratingURL}" style="width:750px; height: 50px;"/></td>
                                                    <td width="50%" align="center">
                                                        <p:selectBooleanButton id="topupconsentflag" value="#{ratingEngineBean.newRatingEngine.topupConsentEnabled}" onLabel="Consent Enabled" offLabel="Consent Disabled" onIcon="ui-icon-check" offIcon="ui-icon-close" style="width:250px;alignment-adjust: middle;"/><br/>
                                                        <p:selectBooleanButton id="topupsmsflag" value="#{ratingEngineBean.newRatingEngine.topupSMSNotifyEnabled}" onLabel="SMS Notification Enabled" offLabel="SMS Notification Disabled" onIcon="ui-icon-check" offIcon="ui-icon-close" style="width:250px;alignment-adjust: middle;"/>
                                                    </td>
                                                </tr>
                                            </table>
                                            
                                        </p:fieldset>

                                    </td>
                                </tr>
                                 <tr>
                                    <td width="100%" colspan="6">
                                         <p:fieldset legend="Unsubscription Configurations :-" toggleable="true" collapsed="true" toggleSpeed="500">
                                            <table width="100%">
                                                <tr>
                                                    <td width="10%" align="right"><h:outputLabel value="URL Config:" for="unsuburl"/></td>
                                                    <td width="80%" align="left"><p:inputTextarea rows="3"   maxlength="500" autoResize="false" id="unsuburl" value="#{ratingEngineBean.newRatingEngine.unsubURL.ratingURL}" style="width:750px; height: 50px;"/></td>
                                                    <td width="50%" align="center">
                                                        <p:selectBooleanButton id="unsubconsentflag" value="#{ratingEngineBean.newRatingEngine.unsubConsentEnabled}" onLabel="Consent Enabled" offLabel="Consent Disabled" onIcon="ui-icon-check" offIcon="ui-icon-close" style="width:250px;alignment-adjust: middle;"/><br/>
                                                        <p:selectBooleanButton id="unsubsmsflag" value="#{ratingEngineBean.newRatingEngine.unsubSMSNotifyEnabled}" onLabel="SMS Notification Enabled" offLabel="SMS Notification Disabled" onIcon="ui-icon-check" offIcon="ui-icon-close" style="width:250px;alignment-adjust: middle;"/>
                                                    </td>
                                                </tr>
                                            </table>
                                        </p:fieldset>
                                    </td>
                                </tr>
                            </table>
                        </p:tab>
                        <p:tab id="viewpanel" title="Registered Rating Engines">
                            <p:commandButton value="Reload Rating Engine List" actionListener="#{ratingEngineBean.reloadRatingEngineList(0,null)}" update="ratingenginelist" style="width: 250px;" /> 
                            <p:dataTable id="ratingenginelist" var="ratingengine" value="#{ratingEngineBean.ratingEngineList}" paginator="true" rows="10" selectionMode="single" selection="#{ratingEngineBean.selectedRatingEngine}" rowKey="#{ratingengine.ratingEngineId}">
                                <f:facet name="header">
                                        List of Registered Rating Engines
                                </f:facet>
                                <p:column style="alignment-adjust: middle;alignment-baseline: central;">
                                    <f:facet name="header">
                                        <h:outputText value="Rating Engine Id" />
                                    </f:facet>
                                    <h:outputText value="#{ratingengine.ratingEngineId}" />
                                </p:column>
                                <p:column filterBy="#{ratingengine.engineName}" style="alignment-adjust: middle;alignment-baseline: central;">
                                    <f:facet name="header">
                                        <h:outputText value="Name" />
                                    </f:facet>
                                    <h:outputText value="#{ratingengine.engineName}" />
                                </p:column>
                                <p:column style="alignment-adjust: middle;alignment-baseline: central;">
                                    <f:facet name="header">
                                        <h:outputText value="Description" />
                                    </f:facet>
                                    <h:outputText value="#{ratingengine.ratingEngineDescription}" />
                                </p:column>
                                <p:column filterBy="#{ratingengine.handlerClass}" style="alignment-adjust: middle;alignment-baseline: central;">
                                    <f:facet name="header">
                                        <h:outputText value="Rating Handler" />
                                    </f:facet>
                                    <h:outputText value="#{ratingengine.handlerClass}" />
                                </p:column>
                                <p:column filterBy="#{ratingengine.regDate}" style="alignment-adjust: middle;alignment-baseline: central;">
                                    <f:facet name="header">
                                        <h:outputText value="Reg. Date" />
                                    </f:facet>
                                    <h:outputText value="#{ratingengine.regDate}" />
                                </p:column>
                                <p:column filterBy="#{ratingengine.lastUpdate}" style="alignment-adjust: middle;alignment-baseline: central;">
                                    <f:facet name="header">
                                        <h:outputText value="Last Update" />
                                    </f:facet>
                                    <h:outputText value="#{ratingengine.lastUpdate}" />
                                </p:column>
                               
                            </p:dataTable>
                            
                        </p:tab>

                    </p:accordionPanel>
                </h:form>
            </ui:define>

          

        </ui:composition>

    </body>
</html>
<!--,newenginedescp,newenginehandler,msgOut,subchargeurl,subconsenturl,subsmsurl,subcharegconsentflag,subcharegsmsflag,eventchargeurl,eventconsenturl,eventsmsurl,eventconsentflag,eventsmsflag,topupchargeurl,topupconsenturl,topupsmsurl,topupconsentflag,topupsmsflag-->